{% extends 'pages/base.html' %}
{% block title %}
    Customer Info
{% endblock title %}
{% block content %}
    <div class="container">
            <button class="btn btn-primary" id=edit_button" type="button">ذخیره کردن</button>

        <h2>اطلاعات فردی</h2>
<div class="row">
    <div class="col-6">
            <label for="name">نام</label>
        <input type="text" id="name" name="name" readonly value="name">
    </div>
    <div class="col-6">
                   <label for="email">ایمیل</label>
        <span>{{ user }}</span>
    </div>
</div>

    <!-- Editable table -->
<div class="card">
  <h3 class="card-header text-center font-weight-bold text-uppercase py-4">
    جدول آدرس ها
  </h3>
  <div class="card-body">
    <div id="table" class="table-editable">
      <span class="table-add float-right mb-3 mr-2"
        ><a href="#!" class="text-success"
          ><i class="fas fa-plus fa-2x" aria-hidden="true"></i></a
      ></span>
      <table class="table table-bordered table-responsive-md table-striped text-center">
        <thead>
          <tr>
                              <th scope="col">#</th>
                <th scope="col">استان</th>
                <th scope="col">شهر</th>
                <th scope="col">آدرس</th>
                <th scope="col">کد پستی</th>
                <th scope="col">تلفن</th>
                <th scope="col">حذف</th>
                <th scope="col">آدرس منتخب</th>

{#            <th class="text-center">Person Name</th>#}
{#            <th class="text-center">Age</th>#}
{#            <th class="text-center">Company Name</th>#}
{#            <th class="text-center">Country</th>#}
{#            <th class="text-center">City</th>#}
{#            <th class="text-center">Sort</th>#}
{#            <th class="text-center">Remove</th>#}
{#          </tr>#}
        </thead>

        <tbody>
                    {% for obj in address %}

          <tr>
            <td class="pt-3-half "  scope="row" >{{ forloop.counter }}</td>
            <td class="pt-3-half" ><input type="text" class= "province obj" value={{ obj.province }}></td>
            <td class="pt-3-half" ><input type="text" class= "city obj" value={{ obj.city }}></td>
            <td class="pt-3-half" ><input type="text"  class= "address obj" value={{ obj.address }}></td>
            <td class="pt-3-half" ><input type="text" class= "postal obj" value={{ obj.postal_code }}></td>
            <td class="pt-3-half" ><input type="text" class= "phone obj" value={{ obj.phone_number }}></td>
{#            <td class="pt-3-half">#}
{#              <span class="table-up"#}
{#                ><a href="#!" class="indigo-text"#}
{#                  ><i class="fas fa-long-arrow-alt-up" aria-hidden="true"></i></a#}
{#              ></span>#}
{#              <span class="table-down"#}
{#                ><a href="#!" class="indigo-text"#}
{#                  ><i class="fas fa-long-arrow-alt-down" aria-hidden="true"></i></a#}
{#              ></span>#}
{#            </td>#}
            <td>
              <span class="table-remove"
                ><button type="button" class="btn btn-danger btn-rounded btn-sm my-0">
                  پاک کردن
                </button></span
              >
            </td>
                        <td class="pt-3-half" ></td>

                          {% endfor %}

          </tr>
{#          <!-- This is our clonable table line -->#}
{#          <tr>#}
{#            <td class="pt-3-half" contenteditable="true">Guerra Cortez</td>#}
{#            <td class="pt-3-half" contenteditable="true">45</td>#}
{#            <td class="pt-3-half" contenteditable="true">Insectus</td>#}
{#            <td class="pt-3-half" contenteditable="true">USA</td>#}
{#            <td class="pt-3-half" contenteditable="true">San Francisco</td>#}
{#            <td class="pt-3-half">#}
{#              <span class="table-up"#}
{#                ><a href="#!" class="indigo-text"#}
{#                  ><i class="fas fa-long-arrow-alt-up" aria-hidden="true"></i></a#}
{#              ></span>#}
{#              <span class="table-down"#}
{#                ><a href="#!" class="indigo-text"#}
{#                  ><i class="fas fa-long-arrow-alt-down" aria-hidden="true"></i></a#}
{#              ></span>#}
{#            </td>#}
{#            <td>#}
{#              <span class="table-remove"#}
{#                ><button type="button" class="btn btn-danger btn-rounded btn-sm my-0">#}
{#                  Remove#}
{#                </button></span#}
{#              >#}
{#            </td>#}
{#          </tr>#}
{#          <!-- This is our clonable table line -->#}
{#          <tr>#}
{#            <td class="pt-3-half" contenteditable="true">Guadalupe House</td>#}
{#            <td class="pt-3-half" contenteditable="true">26</td>#}
{#            <td class="pt-3-half" contenteditable="true">Isotronic</td>#}
{#            <td class="pt-3-half" contenteditable="true">Germany</td>#}
{#            <td class="pt-3-half" contenteditable="true">Frankfurt am Main</td>#}
{#            <td class="pt-3-half">#}
{#              <span class="table-up"#}
{#                ><a href="#!" class="indigo-text"#}
{#                  ><i class="fas fa-long-arrow-alt-up" aria-hidden="true"></i></a#}
{#              ></span>#}
{#              <span class="table-down"#}
{#                ><a href="#!" class="indigo-text"#}
{#                  ><i class="fas fa-long-arrow-alt-down" aria-hidden="true"></i></a#}
{#              ></span>#}
{#            </td>#}
{#            <td>#}
{#              <span class="table-remove"#}
{#                ><button type="button" class="btn btn-danger btn-rounded btn-sm my-0">#}
{#                  Remove#}
{#                </button></span#}
{#              >#}
{#            </td>#}
{#          </tr>#}
{#          <!-- This is our clonable table line -->#}
{#          <tr class="hide">#}
{#            <td class="pt-3-half" contenteditable="true">Elisa Gallagher</td>#}
{#            <td class="pt-3-half" contenteditable="true">31</td>#}
{#            <td class="pt-3-half" contenteditable="true">Portica</td>#}
{#            <td class="pt-3-half" contenteditable="true">United Kingdom</td>#}
{#            <td class="pt-3-half" contenteditable="true">London</td>#}
{#            <td class="pt-3-half">#}
{#              <span class="table-up"#}
{#                ><a href="#!" class="indigo-text"#}
{#                  ><i class="fas fa-long-arrow-alt-up" aria-hidden="true"></i></a#}
{#              ></span>#}
{#              <span class="table-down"#}
{#                ><a href="#!" class="indigo-text"#}
{#                  ><i class="fas fa-long-arrow-alt-down" aria-hidden="true"></i></a#}
{#              ></span>#}
{#            </td>#}
{#            <td>#}
{#              <span class="table-remove"#}
{#                ><button type="button" class="btn btn-danger btn-rounded btn-sm my-0">#}
{#                  Remove#}
{#                </button></span#}
{#              >#}
{#            </td>#}
{#          </tr>#}
        </tbody>
      </table>
    </div>
  </div>
</div>
<!-- Editable table -->







{##}
{#        <button class="btn btn-light" id=add_address" type="button">افزودن آدرس</button>#}
{#        <table class="table table-info table-striped">#}
{#            <thead>#}
{#            <tr>#}
{#                <th scope="col">#</th>#}
{#                <th scope="col">استان</th>#}
{#                <th scope="col">شهر</th>#}
{#                <th scope="col">آدرس</th>#}
{#                <th scope="col">کد پستی</th>#}
{#                <th scope="col">تلفن</th>#}
{#                <th scope="col">حذف</th>#}
{#                <th scope="col">آدرس منتخب</th>#}
{#            </tr>#}
{#            </thead>#}
{#            <tbody id="address_table">#}
{##}
{#            Hi = {{ user }}#}
{#            {% for obj in object.inf_address %}#}
{#                <tr>#}
{#                    <th scope="row">{{ forloop.counter }}</th>#}
{#                    <td>{{ obj.province }}</td>#}
{#                    <td>{{ obj.city }}</td>#}
{#                    <td>{{ obj.address }}</td>#}
{##}
{#                    <td>{{ obj.postal_code }}</td>#}
{#                    <td>{{ obj.phone_number }}</td>#}
{#                    <td><a href="#">ویرایش</a></td>#}
                    {#                <td> <button class="btn btn-light" id=delete_button" type="button">پاک کردن</button>#}
{#                    </td>#}
{#                </tr>#}
{#            {% endfor %}#}
{#            </tbody>#}
{#        </table>#}
    </div>

    {#            <div class="row">#}
    {#            <div class="col">#}
    {#                <button class="btn btn-warning"> <a href="{% url 'download-tasks' %}"#}
    {#                                                    download="Task_list.json">download Tasks in json format</a></button>#}
    {#            </div >#}
    {#            </div >#}


    {#</div>#}

{% endblock content %}

{% block script %}

$(document).ready(function () {
    console.log('input_text')

    const tableID = $('#table');
    var count = tableID.find('tbody tr').length
    const newTr = `
<tr class="hide">
  <td class="pt-3-half" ><input type="text" class= "province count" > </td>
  <td class="pt-3-half" ><input type="text" class= "city count" > </td>
  <td class="pt-3-half" ><input type="text" class= "address count" > </td>
  <td class="pt-3-half" ><input type="text" class="postal count" > </td>
  <td class="pt-3-half" ><input type="text" class= "phone count" > </td>
  <td class="pt-3-half" ><input type="text"></td>

  <td>
    <span class="table-remove"
      ><button
        type="button"
        class="btn btn-danger btn-rounded btn-sm my-0 waves-effect waves-light"
      >
        Remove
      </button></span
    >
  </td>
</tr>
`;

    console.log(count)
// name: $("#id-name").val(),
    $('.table-add').on('click', 'i', () => {
        $('tbody').append(newTr);
    });
    tableID.on('click', '.table-remove', function () {
        $(this).parents('tr').detach();
    });
    // $EXPORT.text(JSON.stringify(data));

var info = {
        name: $("#name").val(),
        address: $("#address"+0).val(),
                   phone: $("#phone"+0).val()
    }
    console.log($(".address 0"))
});
{% endblock script %}
